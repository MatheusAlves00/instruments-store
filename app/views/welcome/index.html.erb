<%= render 'layouts/navbar' %>

<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
        <div class="carousel-item active" style="width: 100%; height: 400px;">
            <img class="d-block w-100" src="https://images.pexels.com/photos/1475021/pexels-photo-1475021.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940" alt="First slide">
        </div>
        <div class="carousel-item" style="width: 100%; height: 400px;">
            <img class="d-block w-100" src="https://images.pexels.com/photos/1813124/pexels-photo-1813124.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940" alt="Second slide">
        </div>
        <div class="carousel-item" style="width: 100%; height: 400px;">
            <img class="d-block w-100" src="https://images.pexels.com/photos/3857365/pexels-photo-3857365.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940" alt="Third slide">
        </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<div class="row mx-auto mt-5">
  <h2 class="fw-bolder mb-4 d-flex justify-content-center">Featured products</h2>
  <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">

    <% @instruments.take(4).each do |instrument| %>
      <div class="col-sm-3 mx-2 p-0 hover-shadow" style="max-width:290px;max-height:550px;">
        <div class="card h-100">
          <% if instrument.photo.attached? %>
            <%= image_tag instrument.photo, class: 'card-img-top', style: 'height:350px;width:auto;' if instrument.photo.attached? %>
          <% else %>
            <img class="card-img-top" style="height:350px;background-color:gray;border:solid 1px gray;">
          <% end %>
          <div class="card-body p-4">
            <div class="text-center">
              <h5 class="fw-bolder"><%= instrument.name %>, <%= instrument.model %> <%= instrument.brand %></h5>
              <div class="d-flex justify-content-center small text-warning mb-2">
                <div class="bi-star-fill"></div>
                <div class="bi-star-fill"></div>
                <div class="bi-star-fill"></div>
                <div class="bi-star-fill"></div>
                <div class="bi-star-fill"></div>
              </div>
              <p class="card-text">Pre√ßo: R$ <%= instrument.price %></p>
            </div>
          </div>
        </div>
        <%= link_to '', shop_path(instrument), class:'mt-auto stretched-link' %>
      </div>
    <% end %>

  </div>
</div>

<%= render 'layouts/footer' %>
